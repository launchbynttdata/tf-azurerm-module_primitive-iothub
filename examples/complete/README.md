# tf-azurerm-module_primitive-log_analytics_workspace

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | ~> 1.0 |
| <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) | ~> 3.117 |

## Providers

No providers.

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_resource_group"></a> [resource\_group](#module\_resource\_group) | terraform.registry.launch.nttdata.com/module_primitive/resource_group/azurerm | ~> 1.0 |
| <a name="module_resource_names"></a> [resource\_names](#module\_resource\_names) | terraform.registry.launch.nttdata.com/module_library/resource_name/launch | ~> 2.0 |
| <a name="module_iothub"></a> [iothub](#module\_iothub) | ../.. | n/a |

## Resources

No resources.

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_location"></a> [location](#input\_location) | (Optional) Specifies the supported Azure location where the resource exists. | `string` | `"eastus"` | no |
| <a name="input_sku"></a> [sku](#input\_sku) | (Required) The sku specified for the IoT Hub.<br/>  object({<br/>    name = (Required) The name of the sku. Possible values are B1, B2, B3, F1, S1, S2, and S3. Defaults to S1.<br/>    capacity = (Required) The number of provisioned IoT Hub units. Defaults to 1.<br/>  }) | <pre>object({<br/>    name     = string<br/>    capacity = number<br/>  })</pre> | <pre>{<br/>  "capacity": 1,<br/>  "name": "S1"<br/>}</pre> | no |
| <a name="input_endpoints"></a> [endpoints](#input\_endpoints) | (Optional) A list of endpoints and their respective properties."<br/>    list(object({<br/>      name                       = (Required) The name of the endpoint. The name must be unique across endpoint types. The following names are reserved: events, operationsMonitoringEvents, fileNotifications and $default.<br/>      type                       = (Required) The type of the endpoint. Possible values are AzureIotHub.StorageContainer, AzureIotHub.ServiceBusQueue, AzureIotHub.ServiceBusTopic or AzureIotHub.EventHub.<br/>      connection\_string          = (Optional) The connection string for the endpoint. This attribute is mandatory and can only be specified when authentication\_type is keyBased.<br/>      authentication\_type        = (Optional) The type used to authenticate against the endpoint. Possible values are keyBased and identityBased. Defaults to keyBased.<br/>      identity\_id                = (Optional) The ID of the User Managed Identity used to authenticate against the endpoint.<br/>      endpoint\_uri               = (Optional) URI of the Service Bus or Event Hubs Namespace endpoint. This attribute can only be specified and is mandatory when authentication\_type is identityBased for endpoint type AzureIotHub.ServiceBusQueue, AzureIotHub.ServiceBusTopic or AzureIotHub.EventHub.<br/>      entity\_path                = (Optional) Name of the Service Bus Queue/Topic or Event Hub. This attribute can only be specified and is mandatory when authentication\_type is identityBased for endpoint type AzureIotHub.ServiceBusQueue, AzureIotHub.ServiceBusTopic or AzureIotHub.EventHub.<br/>      batch\_frequency\_in\_seconds = (Optional) Time interval at which blobs are written to storage. Value should be between 60 and 720 seconds. Default value is 300 seconds. This attribute is applicable for endpoint type AzureIotHub.StorageContainer.<br/>      max\_chunk\_size\_in\_bytes    = (Optional) Maximum number of bytes for each blob written to storage. Value should be between 10485760(10MB) and 524288000(500MB). Default value is 314572800(300MB). This attribute is applicable for endpoint type AzureIotHub.StorageContainer.<br/>      container\_name             = (Optional) The name of storage container in the storage account. This attribute is mandatory for endpoint type AzureIotHub.StorageContainer.<br/>      encoding                   = (Optional) Encoding that is used to serialize messages to blobs. Supported values are Avro, AvroDeflate and JSON. Default value is Avro. This attribute is applicable for endpoint type AzureIotHub.StorageContainer. Changing this forces a new resource to be created.<br/>      file\_name\_format           = (Optional) File name format for the blob. All parameters are mandatory but can be reordered. This attribute is applicable for endpoint type AzureIotHub.StorageContainer. Defaults to {iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.<br/>      resource\_group\_name        = (Optional) The resource group in which the endpoint will be created.<br/>    })) | <pre>list(object({<br/>    name                       = string<br/>    type                       = string<br/>    connection_string          = optional(string)<br/>    authentication_type        = optional(string)<br/>    identity_id                = optional(string)<br/>    endpoint_uri               = optional(string)<br/>    entity_path                = optional(string)<br/>    batch_frequency_in_seconds = optional(number)<br/>    max_chunk_size_in_bytes    = optional(number)<br/>    container_name             = optional(string)<br/>    encoding                   = optional(string)<br/>    file_name_format           = optional(string)<br/>    resource_group_name        = optional(string)<br/>  }))</pre> | `[]` | no |
| <a name="input_fallback_route"></a> [fallback\_route](#input\_fallback\_route) | (Optional) A map of fallback route properties. The routing rule that is evaluated as a catch-all route when no other routes match.<br/>    object({<br/>      source         = (Optional) The source that the routing rule is to be applied to. Possible values include: Invalid, DeviceMessages, TwinChangeEvents, DeviceLifecycleEvents, DeviceConnectionStateEvents, DeviceJobLifecycleEvents and DigitalTwinChangeEvents. Defaults to DeviceMessages.<br/>      condition      = (Optional) The condition that is evaluated to apply the routing rule. Defaults to true. For grammar, see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-query-language.<br/>      endpoint\_names = (Optional) The endpoints to which messages that satisfy the condition are routed. Currently only 1 endpoint is allowed.<br/>      enabled        = (Optional) Used to specify whether the fallback route is enabled.<br/>    }) | <pre>object({<br/>    source         = optional(string)<br/>    condition      = optional(string)<br/>    endpoint_names = optional(list(string))<br/>    enabled        = optional(bool)<br/>  })</pre> | `null` | no |
| <a name="input_file_uploads"></a> [file\_uploads](#input\_file\_uploads) | (Optional) A mapping of file upload properties.<br/>    map(object({<br/>      connection\_string   = (Required) The connection string for the Azure Storage account to which files are uploaded.<br/>      container\_name      = (Required) The name of the root container where the files should be uploaded to. The container need not exist but should be creatable using the connection\_string specified.<br/>      authentication\_type = (Optional) The type used to authenticate against the storage account. Possible values are keyBased and identityBased. Defaults to keyBased.<br/>      identity\_id         = (Optional) The ID of the User Managed Identity used to authenticate against the storage account.<br/>      sas\_ttl             = (Optional) The period of time for which the SAS URI generated by IoT Hub for file upload is valid, specified as an ISO 8601 timespan duration. This value must be between 1 minute and 24 hours. Defaults to PT1H.<br/>      notifications       = (Optional) Used to specify whether file notifications are sent to IoT Hub on upload. Defaults to false.<br/>      lock\_duration       = (Optional) The lock duration for the file upload notifications queue, specified as an ISO 8601 timespan duration. This value must be between 5 and 300 seconds. Defaults to PT1M.<br/>      default\_ttl         = (Optional) The period of time for which a file upload notification message is available to consume before it expires, specified as an ISO 8601 timespan duration. This value must be between 1 minute and 48 hours. Defaults to PT1H.<br/>      max\_delivery\_count  = (Optional) The number of times the IoT Hub attempts to deliver a file upload notification message. Defaults to 10.<br/>    })) | <pre>map(object({<br/>    connection_string   = string<br/>    container_name      = string<br/>    authentication_type = optional(string)<br/>    identity_id         = optional(string)<br/>    sas_ttl             = optional(string)<br/>    notifications       = optional(bool)<br/>    lock_duration       = optional(string)<br/>    default_ttl         = optional(string)<br/>    max_delivery_count  = optional(number)<br/>  }))</pre> | `{}` | no |
| <a name="input_identity"></a> [identity](#input\_identity) | (Optional) The identity configured for the IoT Hub.<br/>    object({<br/>      identity\_type = (Optional) Specifies the type of Managed Service Identity configured on this IoT Hub.<br/>        Possible values are `SystemAssigned`, `UserAssigned`, and `SystemAssigned, UserAssigned` (to enable both). Defaults to `SystemAssigned`."<br/>      identity\_ids  = (Optional) A list of User Assigned Managed Service Identity IDs to associate with the IoT Hub. Required if `identity_type` is set to `UserAssigned`.<br/>    }) | <pre>object({<br/>    identity_type = string<br/>    identity_ids  = optional(list(string))<br/>  })</pre> | <pre>{<br/>  "identity_type": "SystemAssigned"<br/>}</pre> | no |
| <a name="input_network_rule_set"></a> [network\_rule\_set](#input\_network\_rule\_set) | (Optional) An object for cloud-to-device messaging properties.<br/>    object({<br/>      default\_action                     = (Optional) Default Action for Network Rule Set. Possible values are Deny, Allow. Defaults to Deny.<br/>      apply\_to\_builtin\_eventhub\_endpoint = (Optional) Determines if Network Rule Set is also applied to the BuiltIn EventHub EndPoint of the IotHub. Defaults to false.<br/>      ip\_rules = optional(list(object({<br/>        ip\_rule\_name   = (Required) The name of the IP rule.<br/>        ip\_rule\_mask   = (Required) The IP address range in CIDR notation for the IP rule.<br/>        ip\_rule\_action = (Optional) The desired action for requests captured by this rule. Possible values are Allow. Defaults to Allow.<br/>      })))<br/>    }) | <pre>object({<br/>    default_action                     = optional(string)<br/>    apply_to_builtin_eventhub_endpoint = optional(bool)<br/>    ip_rules = optional(list(object({<br/>      ip_rule_name   = string<br/>      ip_rule_mask   = string<br/>      ip_rule_action = optional(string)<br/>    })))<br/>  })</pre> | `null` | no |
| <a name="input_routes"></a> [routes](#input\_routes) | (Optional) A map of routes and their respective properties<br/>    object({<br/>      name (as map key) = (Required) The name of the route.<br/>      source            = (Required) The source that the routing rule is to be applied to, such as DeviceMessages. Possible values include: Invalid, DeviceMessages, TwinChangeEvents, DeviceLifecycleEvents, DeviceConnectionStateEvents, DeviceJobLifecycleEvents and DigitalTwinChangeEvents.<br/>      endpoint\_names    = (Required) The list of endpoints to which messages that satisfy the condition are routed.<br/>      enabled           = (Required) Used to specify whether a route is enabled.<br/>      condition         = (Optional) The condition that is evaluated to apply the routing rule. Defaults to true. For grammar, see: https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-query-language.<br/>    }) | <pre>map(object({<br/>    source         = string<br/>    endpoint_names = list(string)<br/>    enabled        = bool<br/>    condition      = optional(string)<br/>  }))</pre> | `{}` | no |
| <a name="input_enrichments"></a> [enrichments](#input\_enrichments) | (Optional) A map of enrichments and their respective properties<br/>    object({<br/>      key (as map key) = (Required) The key of the enrichment.<br/>      value            = (Required) The value of the enrichment. Value can be any static string, the name of the IoT Hub sending the message (use $iothubname) or information from the device twin (ex: $twin.tags.latitude)<br/>      endpoint\_names   = (Required) The list of endpoints which will be enriched.<br/>    }) | <pre>map(object({<br/>    value          = string<br/>    endpoint_names = list(string)<br/>  }))</pre> | `{}` | no |
| <a name="input_cloud_to_device"></a> [cloud\_to\_device](#input\_cloud\_to\_device) | (Optional) An object for cloud-to-device messaging properties.<br/>    object({<br/>      max\_delivery\_count = (Optional) The maximum delivery count for cloud-to-device per-device queues. This value must be between 1 and 100. Defaults to 10.<br/>      default\_ttl        = (Optional) The default time to live for cloud-to-device messages, specified as an ISO 8601 timespan duration. This value must be between 1 minute and 48 hours. Defaults to PT1H.<br/>      feedback = object({<br/>        time\_to\_live       = (Optional) The retention time for service-bound feedback messages, specified as an ISO 8601 timespan duration. This value must be between 1 minute and 48 hours. Defaults to PT1H.<br/>        max\_delivery\_count = (Optional) The maximum delivery count for the feedback queue. This value must be between 1 and 100. Defaults to 10.<br/>        lock\_duration      = (Optional) The lock duration for the feedback queue, specified as an ISO 8601 timespan duration. This value must be between 5 and 300 seconds. Defaults to PT60S.<br/>    }) | <pre>object({<br/>    max_delivery_count = number<br/>    default_ttl        = string<br/>    feedback = object({<br/>      time_to_live       = string<br/>      max_delivery_count = number<br/>      lock_duration      = string<br/>    })<br/>  })</pre> | `null` | no |
| <a name="input_consumer_groups"></a> [consumer\_groups](#input\_consumer\_groups) | (Optional) A list of consumer groups and their respective properties."<br/>    list(object({<br/>      name                   = (Required) The name of this Consumer Group.<br/>      resource\_group\_name    = (Required) The name of the resource group that contains the IoT hub.<br/>      iothub\_name            = (Required) The name of the IoT Hub.<br/>      eventhub\_endpoint\_name = (Required) The name of the Event Hub-compatible endpoint in the IoT hub.<br/>    })) | <pre>list(object({<br/>    name                   = string<br/>    iothub_name            = string<br/>    eventhub_endpoint_name = string<br/>    resource_group_name    = string<br/>  }))</pre> | `[]` | no |
| <a name="input_resource_names_map"></a> [resource\_names\_map](#input\_resource\_names\_map) | A map of key to resource\_name that will be used by tf-launch-module\_library-resource\_name to generate resource names | <pre>map(object({<br/>    name       = string<br/>    max_length = optional(number, 60)<br/>    region     = optional(string, "eastus")<br/>  }))</pre> | <pre>{<br/>  "eventhub_namespace": {<br/>    "max_length": 80,<br/>    "name": "evthubns"<br/>  },<br/>  "iothub": {<br/>    "max_length": 80,<br/>    "name": "iothub"<br/>  },<br/>  "resource_group": {<br/>    "max_length": 80,<br/>    "name": "rg"<br/>  }<br/>}</pre> | no |
| <a name="input_instance_env"></a> [instance\_env](#input\_instance\_env) | Number that represents the instance of the environment. | `number` | `0` | no |
| <a name="input_instance_resource"></a> [instance\_resource](#input\_instance\_resource) | Number that represents the instance of the resource. | `number` | `0` | no |
| <a name="input_logical_product_family"></a> [logical\_product\_family](#input\_logical\_product\_family) | Name of the product family for which the resource is created. | `string` | `"launch"` | no |
| <a name="input_logical_product_service"></a> [logical\_product\_service](#input\_logical\_product\_service) | Name of the product service for which the resource is created. | `string` | `"iothub"` | no |
| <a name="input_class_env"></a> [class\_env](#input\_class\_env) | Environment where resource is going to be deployed. For example. dev, qa, uat | `string` | `"dev"` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_id"></a> [id](#output\_id) | The IoT Hub Id. |
| <a name="output_name"></a> [name](#output\_name) | The IoT Hub Name. |
| <a name="output_resource_group_name"></a> [resource\_group\_name](#output\_resource\_group\_name) | The Resource Group Name. |
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
